# comick.io Downloader ğŸ“š

[![Python](https://img.shields.io/badge/python-3.8%2B-blue)](https://www.python.org/) [![GNU GPLv3](https://img.shields.io/badge/License-GPLv3-blue.svg)](LICENSE)

The most versatile, feature-rich & customizable command-line tool to download webtoons (manhwa), comics and manga from [comick.io](https://comick.io) and package them into **PDF**, **EPUB**, or **CBZ**â€”with intelligent image processing, resumable downloads, scanlation group prioritization, and optional chapter/file-size splitting.

## ğŸ“‘ Table of Contents

- [ğŸš€ Features](#-features)  
- [ğŸ› ï¸ Requirements](#%EF%B8%8F-requirements)  
- [ğŸ§° Installation](#-installation)  
- [ğŸš€ Usage](#-usage)  
- [âš™ï¸ Options](#%EF%B8%8F-options)  
- [ğŸ” Cookie Setup](#-cookie-setup)  
- [ğŸ“– Examples](#-examples)  
- [ğŸ’¡ Tips & Tricks](#-tips--tricks)  
- [ğŸ“ Output Structure](#-output-structure)  
- [âš–ï¸ Disclaimer](#ï¸-disclaimer)
- [ğŸ¤ Contributing](#-contributing)  
- [ğŸ™ Acknowledgements](#-acknowledgements)  
- [ğŸ“„ License](#-license)  

---

## ğŸš€ Features

- ğŸ“¥ **Flexible Chapter Selection**  
  Download specific chapters, ranges (`1-5`), or lists (`1,3,5-7`).
- ğŸ·ï¸ **Scanlation Group Control**  
  Prioritize your favorite scanlation group(s), or choose by highest upvotes.
- ğŸ–¼ï¸ **Image Processing**  
  Resize, scale, recombine, and compress images for optimal reading.
- ğŸ“ **Multiple Formats**  
  Export as PDF, fixed-layout EPUB, vertical-scroll EPUB, or CBZ.
- ğŸ”„ **Resumable Downloads**  
  Automatically picks up where it left off if interrupted.
- âœ‚ï¸ **Book Splitting**  
  Split large downloads by file size (e.g., `400MB`) or chapter count (e.g., `10ch`).
- ğŸ’¾ **Keep Originals**  
  Optionally retain raw images and per-chapter files.

---

## ğŸ› ï¸ Requirements


- Python
  - Officially supported: 3.8+
  - Best-effort (tested): 3.7 (may require building Pillow from source on some platforms)
  - Not supported: 3.6 and Python 2.x
- OS: macOS, Linux, Windows
- Python packages (installed via requirements.txt)
  - beautifulsoup4
  - cloudscraper
  - lxml
  - Pillow
  - pypdf
  - requests
- Notes for macOS (Apple Silicon), Python 3.7 only:
  - Building Pillow from source may require system libraries. If you see build errors,
    install via Homebrew:
    - brew install jpeg-turbo libpng freetype libtiff webp little-cms2 zlib
  - Ensure Xcode command line tools are installed: xcode-select --install

Feature support by Python version

- Legend:
  - âœ… Supported
  - âš ï¸ Supported with caveats (see notes)
  - âŒ Not supported

| Python | PDF | EPUB (page) | EPUB (vertical) | CBZ | Resume/Restore | Split (size/ch) | Keep images | Group priority/mix-by-upvote | Cloudscraper | lxml parser |
| ------ | --- | ----------- | --------------- | --- | -------------- | --------------- | ----------- | ---------------------------- | ------------ | ----------- |
| 3.13   | âœ…  | âœ…          | âœ…              | âœ…  | âœ…             | âœ…              | âœ…          | âœ…                           | âœ…           | âœ…          |
| 3.12   | âœ…  | âœ…          | âœ…              | âœ…  | âœ…             | âœ…              | âœ…          | âœ…                           | âœ…           | âœ…          |
| 3.11   | âœ…  | âœ…          | âœ…              | âœ…  | âœ…             | âœ…              | âœ…          | âœ…                           | âœ…           | âœ…          |
| 3.10   | âœ…  | âœ…          | âœ…              | âœ…  | âœ…             | âœ…              | âœ…          | âœ…                           | âœ…           | âœ…          |
| 3.9    | âœ…  | âœ…          | âœ…              | âœ…  | âœ…             | âœ…              | âœ…          | âœ…                           | âœ…           | âœ…          |
| 3.8    | âœ…  | âœ…          | âœ…              | âœ…  | âœ…             | âœ…              | âœ…          | âœ…                           | âœ…           | âœ…          |
| 3.7    | âœ…  | âœ…          | âœ…              | âœ…  | âœ…             | âœ…              | âœ…          | âœ…                           | âœ…          | âœ… (fallback to html.parser if lxml unavailable) |
| 3.6    | âŒ  | âŒ          | âŒ              | âŒ  | âŒ             | âŒ              | âŒ          | âŒ                           | âŒ          | âŒ          |
| 2.7    | âŒ  | âŒ          | âŒ              | âŒ  | âŒ             | âŒ              | âŒ          | âŒ                           | âŒ          | âŒ          |

Notes:
- Cloudscraper is optional. If itâ€™s not available or fails to initialize, the downloader
  automatically falls back to requests.Session.
- The HTML parser prefers lxml if installed, and falls back to the built-in html.parser.
- On macOS (Apple Silicon), Python 3.7 may need system libraries to build Pillow.

---

## ğŸ§° Installation

```bash
git clone https://github.com/zzyil/comick.io-Downloader.git
cd comick.io-Downloader
python3 -m pip install -r requirements.txt
```

---

## ğŸš€ Usage

```bash
python3 comick_downloader.py [OPTIONS] COMIC_URL
```

Run `python3 comick_downloader.py --help` for the full option list.

---

## âš™ï¸ Options

| Option                        | Description                                                                                                                                                                                                                  | Default     |
| ----------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------- |
| `COMIC_URL`                   | URL of the comicâ€™s main page (e.g. `https://comick.io/comic/demo-comic`)                                                                                                                                                     | _required_  |
| `--cookies STRING`            | HTTP cookie string for restricted content (e.g. `key1=val1; key2=val2`)                                                                                                                                                     | `""`        |
| `--group STRING...`           | Preferred scanlation groups (comma-separated or multiple args).                                                                                                                                                              | `[]`        |
| `--mix-by-upvote`             | When multiple `--group` entries exist, pick the version with the highest upvotes among them.                                                                                                                                 | `False`     |
| `--no-partials`               | Skip fractional chapters (e.g. 1.5).                                                                                                                                                                                          | `False`     |
| `--chapters STRING`           | Chapter filter: `all`, single (`5`), range (`1-10`), or list/ranges (`1,3,5-7`).                                                                                                                                             | `all`       |
| `--language STRING`           | Language code (e.g. `en`, `ja`).                                                                                                                                                                                              | `en`        |
| `--format {pdf,epub,cbz,none}`     | Output format.                                                                                                                                                                                                                | `epub`      |
| `--epub-layout {page,vertical}` | EPUB layout: `page` (fixed), `vertical` (scroll).                                                                                                                                                                             | `vertical`  |
| `--width INT`                 | Base image width (px). Defaults vary by format/layout.                                                                                                                                                                        | _auto_      |
| `--aspect-ratio STRING`       | Target W:H ratio (e.g. `4:3` or `2.5`). Not used for PDF.                                                                                                                                                                     | _auto_      |
| `--quality INT`               | JPEG quality `%` (1â€“100).                                                                                                                                                                                                     | `85`        |
| `--scaling INT`               | Final image scale `%` (1â€“100).                                                                                                                                                                                                | `100`       |
| `--split STRING`              | Split by size (`400MB`) or chapters (`10ch`).                                                                                                                                                                                | `None`      |
| `--restore-parameters`        | Reuse saved processing settings (for format-only reassembly).                                                                                                                                                                 | `False`     |
| `--keep-images`               | Retain raw downloaded images under `comics/<Title>/Chapter_<n>/`.                                                                                                                                                             | `False`     |
| `--keep-chapters`             | Save each chapter as a separate file (`.pdf`, `.epub`, or `.cbz`).                                                                                                                                                            | `False`     |
| `--no-cleanup`                | Do not delete the temporary directory (`tmp_<hid>/`) after completion.                                                                                                                                                        | `False`     |
| `-v, --verbose`               | Enable detailed logging.                                                                                                                                                                                                      | `False`     |
| `-d, --debug`                 | Enable debug-level logging (image processing details).                                                                                                                                                                        | `False`     |

---

## ğŸ” Cookie Setup

If authentication is required, export your cookies:

```bash
export COOKIES='ads_provider2="â€¦"; membership_alert=true; â€¦'
```

Then run:

```bash
python3 comick_downloader.py --cookies "$COOKIES" \
  https://comick.io/comic/your-comic-url
```

---

## ğŸ“– Examples

1. **Page-layout EPUB**, chapters 1â€“2, preferred group **Asura**, verbose:

   ```bash
   python3 comick_downloader.py \
     --cookies "$COOKIES" \
     --group Asura \
     --chapters "1-2" \
     --format epub \
     --epub-layout page \
     --verbose \
     https://comick.io/comic/demo-comic
   ```

2. **Vertical EPUB**, chapters 1â€“20, split every 5 chapters, verbose & debug:

   ```bash
   python3 comick_downloader.py \
     --group Asura \
     --chapters "1-20" \
     --format epub \
     --epub-layout vertical \
     --split 5ch \
     --verbose --debug \
     https://comick.io/comic/demo-comic
   ```

3. **CBZ**, chapters 1â€“2, one chapter per file:

   ```bash
   python3 comick_downloader.py \
     --group Asura \
     --chapters "1-2" \
     --format cbz \
     --split 1ch \
     https://comick.io/comic/demo-comic
   ```

4. **PDF**, chapters 1â€“2, save each chapter separately:

   ```bash
   python3 comick_downloader.py \
     --group Asura \
     --chapters "1-2" \
     --format pdf \
     --keep-chapters \
     https://comick.io/comic/demo-comic
   ```

---

## ğŸ’¡ Tips & Tricks

Here are some handy pointers to get the most out of your workflow:

- ğŸ”„ **Ongoing Series Updates**  
  â€¢ Use `--no-cleanup` to keep your temporary data around and reuse the same settings.  
  â€¢ Run again whenever new chapters appear, only new content will be downloaded & processed. 
 â€¢ You can use `--restore-parameters` to restore input parameters to exactly match the previous one.
 
- ğŸ—‚ï¸ **Archiving Originals**  
  â€¢ Add `--keep-images` to save every raw page under `comics/<Title>/Chapter_<n>/`.  
  â€¢ Useful if you want to re-process images later (different layout, quality, etc.).

- ğŸ“‘ **Precise Chapter Selection**  
  â€¢ Use `--chapters "1-20,21,23-100"` to include exactly the chapters you want (skip fillers or extras).  
  â€¢ Supports single numbers, ranges, and comma-separated lists.    
  â€¢ Use `--no-partials` to skip fractional chapters such as 1.5, 30.1 or other non decimal exclusive chapters in order to prevent duplicates within your final export.

- âš™ï¸ **Recover from Failures**  
  â€¢ After a crash or network hiccup, rerun with `--restore-parameters`, which will restore all parameters except for your desired file format. 
  *(Please remember that PDFs don't adhere to aspect ratios the same way as EPUBs & CBZs do, so going from pdf to either of them isn't recommended, the other way around works fine.)*

- ğŸ **Apple Books Friendly**  
  â€¢ Apple Books can choke on massive EPUBsâ€” personal recommendation: split into ~10-chapter chunks: `--split 10ch`.  
  â€¢ Alternatively, split by size: `--split 200MB`.

- ğŸ“– **EPUB Layout Recommendations**  
  â€¢ For standard e-readers (Kindle, Kobo): `--epub-layout page`.  
  â€¢ For continuous scroll (Apple Books, PocketBook): `--epub-layout vertical`.

- ğŸ¨ **Control Output Quality & Size**  
  â€¢ `--quality 60` to drop JPEG quality for smaller files.  
  â€¢ `--scaling 80` to downscale pages to 80% of the original processed size.  
  â€¢ Combine with `--split` to keep individual file sizes manageable.

- ğŸ·ï¸ **Best Scanlation Version**  
  â€¢ `--group "YourFavGroup"` to prefer a specific scanlation team or even teams by using  `--group "YourFavGroup1, YourFavGroup2"`.  
  â€¢ Add `--mix-by-upvote` to pick the highest-upvoted release among your chosen groups.

- ğŸ” **Debugging & Verbose Logs**  
  â€¢ `-v` / `--verbose` for step-by-step progress.  
  â€¢ `-d` / `--debug` for deep image-processing insights (resizing, recombining).

- ğŸ“¦ **Per-Chapter Files**  
  â€¢ Use `--keep-chapters` to save each chapter as its own PDF/EPUB/CBZ alongside the main book.

---

## ğŸ“ Output Structure

*   **Temporary Data**: `tmp_<hid>/`
    *   `run_params.json`: Stores the processing settings for resume functionality.
*   **Final Files**: `comics/`
    *   Named `<Title>[_Groups]_Ch_<start>-<end>.<format>` (e.g., `My_Awesome_Comic_Asura_Ch_1-5.epub`)
*   **Raw Images** (if `--keep-images` is used):
    *   `comics/<Title>/Chapter_<n>/` (e.g., `comics/My_Awesome_Comic/Chapter_1/`)

```
tmp_<hid>/                   # Temporary workspace
â””â”€â”€ run_params.json          # Saved settings (resume/restore)
comics/
â”œâ”€â”€ <Title>[_Groups]_Ch_a-b.epub/pdf/cbz   # Final build(s)
â””â”€â”€ <Title>/Chapter_<n>/                  # Raw images (if --keep-images)
```

- Final files â†’ `comics/`  
- Use `--no-cleanup` to inspect `tmp_<hid>/` after completion  
- Re-run with `--restore-parameters` + new `--format` to reassemble without re-downloading

---

## âš–ï¸ Disclaimer

This tool is provided strictly for educational purposes and to help you create personal, offline backups of manga to which you have legal access. Please respect the rights of content creators and publishersâ€”unauthorized sharing, piracy, or redistribution of material is prohibited.

---

## ğŸ¤ Contributing

1. Fork the repo  
2. Create a feature branch (`git checkout -b feature/foo`)  
3. Test your update with `/test_scripts/python_version_tester.sh`
4. Commit (`git commit -m "Add foo"`)  
5. Push (`git push origin feature/foo`)  
7. Open a Pull Request  

Please follow the existing style and include tests where applicable.

---

## ğŸ™ Acknowledgements

This project stands on the shoulders of many wonderful open-source tools and librariesâ€”thank you to all the maintainers and contributors who make these possible, thank you:

- **Python** ([CPython](https://github.com/python/cpython)) â€“ The language powering this script  
- **requests** ([psf/requests](https://github.com/psf/requests)) â€“ HTTP for Humans  
- **cloudscraper** ([VeNoMouS/cloudscraper](https://github.com/VeNoMouS/cloudscraper)) â€“ Seamless Cloudflare anti-bot bypass  
- **Beautiful Soup** ([BeautifulSoup](https://www.crummy.com/software/BeautifulSoup/)) â€“ HTML/XML parsing made easy  
- **lxml** ([lxml/lxml](https://github.com/lxml/lxml)) â€“ Fast, feature-rich XML/HTML processing  
- **Pillow** ([python-pillow/Pillow](https://github.com/python-pillow/Pillow)) â€“ The friendly PIL fork for image manipulation  
- **pypdf** ([py-pdf/pypdf](https://github.com/py-pdf/pypdf)) â€“ PDF generation and manipulation  

---

## ğŸ“„ License

This project is licensed under the [GNU GPLv3](LICENSE).

---
